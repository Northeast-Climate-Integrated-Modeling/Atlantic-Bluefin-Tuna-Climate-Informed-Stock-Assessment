## Model notes

## Model 1, Attempt 1
~/VAST_runs/tuna1
tuna_model_1.R

Run successfully 29 Mar 2023

Observation data contained in data object `surv`
	- Years: 1993 - 2021
	- Categories: Small (young school, school, large school) and Large (large medium, giant)
	- Response variable: Number caught per category per trip
	- Effort: fishing hours per trip (treated as km^2, issue with units package?)
	- Lat & Lon - decimal degrees, calculated from DDMM data provided during interviews

Density covariate data contained in data object `scaled.covars`
	- Density covariate data have been scaled as per recommendation from J Thorson
	- SST: Recaulculated as deg C (provided as F, removed NA values and unrealistic values)
	- Depth: Recalculated as M (provided as ft, removed NA values and unrealistic values)

No catchability covariate data

Spatial grid area contained in data object `grid_NWA_BTS`
	- US EEZ waters from Cape Hatteras through Canadian maritime border
	- Points on land excluded
	- Currently using 100 knots and max 2000 grid cells (2000 is default and would need to be changed)

Settings
	- ObsModel error structure set to [2,1]
		- Default
	- FieldConfig & RhoConfig default values
		- All IID for FieldConfig
		- All 0 for RhoConfig
	- Anisotropy on
	- Space-building method: mesh
	- Knot-buiding method: grid
	- Fine-scale OFF
	- Bias correct OFF

Future
	- Refine spatial grid: is it realistic to go all the way out to 200nmi or should I bring it inshore a bit
		- We don't have any samples in the offshore half or so of the shapefile
	- SST and Depth: fill in missing values with data from other datasets.
	- Observation data: Pre 2002 data has very few trips with 0 recorded catch-- this clearly impacts the calculated index values
		- Consider removing that data? Or somehow change error structure? Don't think I can set non-encounter spaces to 0 reliably.
	- Effort: To make this model work, I had to code b_i to be # caught (counts) and a_i to be fhours (read as km^2)
		- Clearly that can't fly, so there needs to be a units-based solution 
		- Currently when I try to code in unitless 1 as a_i and CPUE as b_i, the model fails at index calculation due to some kind of udunits error
		- THIS SHOULD BE FIRST FIX PRIORITY
	- Spatial grid	
		- 100 knots should be increased to 200